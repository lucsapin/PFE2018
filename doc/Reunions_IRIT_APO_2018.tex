\documentclass[fleqn,% draft,
a4paper,11pt]{scrbook}

% Document language : english

\newif\ifprinted
\printedfalse

% Police
\usepackage[utf8]{inputenc}

%% Serif font
% \IfFileExists{stix.sty}{%
%   \usepackage[upint]{stix}}%
% {\usepackage{lmodern}
%   \def\coloneq{:=}}

%% Sans font
%\usepackage[scaled=0.875]{helvet}

\usepackage[tt=false]{libertine}
\usepackage[T1]{fontenc}

\usepackage{amsthm}
\usepackage[slantedGreek,cmintegrals,bigdelims,vvarbb,libertine,libaltvw,liby]{newtxmath}
\useosf

\ifprinted
\KOMAoptions{BCOR=0.5cm}
\fi

\recalctypearea


\let\forall\forallAlt
\let\exists\existsAlt
\let\nexists\nexistsAlt

%% Monospace font
%\usepackage[scaled=0.92,varqu,varl]{zi4}
\usepackage[scaled=0.77]{beramono}


% \usepackage{libertine}
% \usepackage[varg,cmintegrals,bigdelims,varbb,libertine]{newtxmath}

\usepackage{ifdraft}

\usepackage{chngcntr}
\usepackage{tocvsec2}

\KOMAoptions{chapterprefix=true}
\KOMAoptions{headsepline=true}
\KOMAoptions{index=toc}
%\KOMAoptions{bibliography=totocnumbered}
%\addtokomafont{chapter}{\centering}
% \ifdraft{\KOMAoptions{twoside=false}}{}
\renewcommand*{\partformat}{\partname~\thepart}
\renewcommand*{\partpagestyle}{empty}
\renewcommand*{\chapterformat}{\chapappifchapterprefix~\thechapter\\\rule{\linewidth}{1.5pt}\\}


%\KOMAoptions{numbers=noenddot}
\renewcommand*{\figureformat}{\figurename~\thefigure}
\renewcommand*{\tableformat}{\tablename~\thetable}
%\renewcommand*{\captionformat}{.}

%\KOMAoptions{parskip=half*}

\newcommand{\chappreamble}[1]{\textit{\noindent #1}\leavevmode\vspace{\baselineskip}}

\newenvironment{chapabstract}{}{}



% \usepackage{titlesec}
% \titleformat{\chapter}[display]

\usepackage[final]{listings}

\usepackage[style=alphabetic,maxnames=4,backend=bibtex,
backref=true% ,noadjust
,
firstinits=true]{biblatex}
%   \makeatletter
%   \def\@citex#1[#2]#3{% 
%     \@safe@activestrue\edef\@tempd{#1}\@safe@activesfalse
%     \@safe@activestrue\edef\@tempe{#3}\@safe@activesfalse
%     \org@@citex{\@tempd}[#2]{\@tempe}}%
%   \makeatother
%\addbibresource{MyBiblio.bib}

%\makeatletter
% \def\url@leostyle{%
%   \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\footnotesize\ttfamily}}}
% \makeatother
%% Now actually use the newly defined style.
% \urlstyle{leo}

\usepackage{relsize}
\appto{\bibsetup}{\emergencystretch=1em}
\renewcommand*{\UrlFont}{\itshape}
\appto{\biburlsetup}{%
  \renewcommand*{\UrlFont}{\smaller[0.5]
    \itshape% \ttfamily
    %\normalfont\itshape
  }}

\makeindex

\usepackage{titling}
\title{Compte-rendu de réunion}
\author{Luc Sapin}
\date{\today}

%Package pour avoir des liens hyper-texte dans les fichiers Pdf 
%A mettre en dernier 
%Pose parfois problÃÂ¨me 
% \usepackage[unicode,final% ,ocgcolorlinks
% ]{hyperref}
% \usepackage{footnotebackref}

\usepackage[final]{hyperref}

\hypersetup{%
  pdfinfo={
    Title={\thetitle},
    Author={\theauthor} },
  % frenchlinks,
  linkcolor=purple,
  citecolor=teal,
  %ocgcolorlinks
  %urlcolor={magenta!50!black},
  % menucolor=purple
}
\ifprinted
\hypersetup{colorlinks=false}
\else
\hypersetup{colorlinks}
\fi



% \tikzexternalize[mode=list and make,up to date check=md5, prefix=figures/]
% \pgfkeys{/pgf/images/include external/.code={\includegraphics{#1}}}


\begin{document}
\maketitle
\chapter*{}
\label{cha:cr-reu}
\section*{Vendredi 23 mars 2018}
Correction des objectifs \& de leur priorité :
\begin{itemize}
	\item Changement $EMB \rightarrow L_2$ pour l'aller, le retour et l'aller-retour. Lancer optimisation du modèle impulsionnel sur quelques astéroïdes en temps min seulement;
	\item Construire algorithme de classification sur la base de données des 4000+ astéroïdes;
	\item Étude de la phase de parking dans la sphère de Hill : modifier dynamique et résoudre problème de conso min. 
\end{itemize} 

\section*{Vendredi 6 avril 2018}
\subsection*{Priorité semaine prochaine}
\begin{itemize}
	\item rendre aller \& aller-retour fonctionnels pour le point L2 (au départ et à l'arrivée avant de comparer les dynamiques dans la sphère de hill.
	\item Regarder BOCOP avec l'interface graphique, comprendre les commandes matlab qui appellent BOCOP pour la phase parking (user guide sur \href{bocop.org}{bocop.org}) avant d’entamer la phase parking en temps min.
\end{itemize}

\subsection*{Priorité plus long terme}
\begin{itemize}
	\item comparaison des solutions entre les points L2 et EMB : tableau comparatif sur une dizaine d'astéroïdes
	\item comparaison des solutions avec critères initial et critère sans le "max".
	\item Étude de la phase de parking dans la sphère de Hill : modifier dynamique et résoudre problème de conso min en contrôle optimal.
	Idée : impulsionnel sur la phase parking : comparer avec la solution en contrôle optimal. Si solutions proches, voir optimisation globale en impulsionnel ?
	\item Construire algorithme de classification sur la base de données des 4000+ astéroïdes; 
\end{itemize}

\newpage
\section*{Vendredi 13 avril 2018}
\subsection*{Priorité semaine prochaine}
\begin{itemize}
	\item Affichage trajectoires avec la dynamique 3 corps modifiés
	\item comparer pour une dynamique donnée les résultats entre EMB et L2
	\item tableau comparatif sur une dizaine d'astéroïdes : les résultats de l'impulsionnelle (deltaV, date arrivée, date départ,...)  et les résultats de Bocop  sur temps min (solution, données de convergence,...)
\end{itemize}

\section*{Vendredi 20 avril 2018}
\begin{itemize}
	\item Essayer de prolonger l'intégration jusqu'au bout ($\rightarrow dist = 0$) \& comparer résultats avec $dist = 0.01$;
	\item convertir positions \& trajectoires dans repère tournant;
	\item regarder incohérence temps départs < temps arrivé;
	\item faire pareil avec les résultats de Bocop en temps min : trajectoires \& résultats (graphes comparatifs);
	\item enlever le max et comparer $\Delta V$ : L2 avec / sans le max;
	\item impulsionnelle sur phase parking : poser le problème;
	\item optimiser tout ensemble si ça marche bien;
	\item le faire sur tout les astéroïdes.
\end{itemize}

\section*{Jeudi 26 avril 2018}
	\begin{itemize}
		\item Propager la dynamique 2 corps jusqu'au bout et comparer 					résultats
		\item observer les trajectoires des résultats de BOCOP
		\item poser le problème : impulsionnel sur la phase parking vers le 			point L2. Attention : il faut intégrer pour avoir la position 				du spacecraft.
		\item optimiser tout ensemble si ça marche bien
		\item le faire sur tous les astéroïdes
	\end{itemize}

\section*{Jeudi 28 mai 2018}
	Suite au skype avec Thomas le Jeudi 24 mai les objectifs suivants ont 		été fixés :
	\begin{itemize}
		\item Changer le critère sur la phase impulsionnelle : enlever le 	max et garder $F_{sol} = \min \sum_{i=1}^{nbImpulse} \delta V_i$. \\
		Relancer les optimisations aller, retour et aller-retour. \\
		Enlever aussi les variables de poids, clarifier stockage des résultats.
		
		\item Se concentrer davantage sur la résolution via Bocop multiphase).
		Réécrire le problème différemment pour qu'on puisse le poser dans Bocop (= forme de Mayer, dimension des 	états multipliée par le nombre d'arc, rajouter les contraintes 	aux extrémités de chaque arc, modification des dynamiques sur chaque arc, ...). \\
		Attention : \underline{\textbf{la dynamique 3 corps perturbés n'est pas autonome.}}
	\end{itemize}
	
	Depuis jeudi 24 mai, les algorithmes d'optimisation ont tous été modifiés. Il subsiste une erreur pour l'optimisation du retour : les trajectoires ne converge pas vers L2 mais entre L2 et la Lune pour les astéroïdes 1, 3, 7 et 10. \textbf{Ne pas oublier de corriger cela}.
	
	\underline{Priorité pour le Vendredi 1er juin :} Écrire le problème de contrôle optimal en multiphase pour l'implémenter dans Bocop.
	
\section*{Vendredi 22 juin 2018}
Travail effectué depuis le 28 mai : \\
\begin{itemize}
	\item Entraînement avec Bocop pour gérer un problème multiphase : problème de Goddard en Bang-Singulier-Bang. Ok après plusieurs difficultés d'implémentation des fichiers C++. On retrouve bien les mêmes solutions qu'avec un problème monophasé. \\
	
	\item Écriture de la phase parking à 3 arcs avec l'interface graphique de Bocop (contrôle continu) : plusieurs soucis pour mener la résolution à terme.. \\
	
	\item Après le skype avec Thomas le 18 juin: pourquoi ne pas tenter de résoudre le problème de la phase parking \textbf{en impulsionnel} sous Bocop ?\\
	Problème modifié $\Rightarrow$ pas de contrôle, $3$ impulsions $3$D, incréments de vitesse et instants d'impulsion à déterminer. Cela nous donne un problème impulsionnel à $2$ arcs, de dimension 12. \\
	Solution trouvée avec plusieurs contraintes/problèmes: 
	\begin{itemize}
		\item Pas de solution trouvée si le $3$e boost est déduit par la valeur de l'état final (le point final ayant une vitesse connue nulle). On est donc contraint de donner le dernier boost libre, comme les $2$ premiers. La solution trouvée est différente du problème en temps min et passe à "l'intérieur" du système Terre-Lune : boucle autour de la terre, grand tour.. allonge la durée de la trajectoire.
		\item Qui plus est, la valeur du coût est d'environ $3.13$. Assez différent des valeurs trouvées dans les optimisations précédentes, aux alentours de $0.2$ (problème de conversion d'unité de $\delta V$ ?).
		\item Solution trouvée avec un $dt_i$ nul $\Rightarrow$ un seul arc et $2$ boosts suffiraient peut-être ??
	\end{itemize} 
	
	\item Écriture du script matlab qui appelle Bocop et récupère les résultats pour un affichage propre des trajectoires et qui les compare avec les précédentes obtenues. Problème à l'exécution a fait crasher Bocop, impossible de charger ou créer un problème sur l'interface graphique depuis.
\end{itemize}
Objectifs avant le nouveau Skype avec Thomas :
	\begin{itemize}
		\item Vérifier qu'il n'y a pas de problème d'unité pour la valeur du coût.
		\item Réinstaller Bocop pour corriger le crash
		\item Écrire le même problème mais avec seulement 2 impulsions
		\item Corriger le script matlab d'appel à Bocop
		\item Terminer le problème de phase parking avec contrôle continu sur l'interface Bocop pour via un script matlab. 
	\end{itemize}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End: